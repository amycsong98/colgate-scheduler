

<script>
  console.log("hello");

  // var history201802 = searchCourses("history", "201802", [], "", "", [], false, false, false, false);
  // var computerscience = searchCourses("computer+science", "201902", [], "", "", [], false, false, false, true);
  var programstesting = searchCourses("", "201902", ["ALS2", "ALST"], "", "", [], false, false, false, true);

  console.log("url: " + programstesting);
  // requestSearch(history201802);
  // requestSearch(computerscience);
  requestSearch(programstesting);


  function searchCourses(keyword, term, programs, core, inquiry, days, morning, afternoon, evening, openOnly) {
    var prefix = "https://api.colgate.edu/v1/courses/search?";
    var keywordCode = "keyword=" + keyword;
    var termCode = "&termCode=" + term;

    var programCode = "";
    for (program of programs) {
      programCode += "&program[]=" + program;
    }

    var coreCode = "&coreArea=" + core;
    var inquiryCode = "&inquiryArea=" + inquiry;

    var dayCode = "";
    for (day of days) {
      dayCode += "&meetDays[]=" + program;
    }

    var timeCode = morning? "&meetTimeMorning=Y" : "&meetTimeMorning=false";
    timeCode += afternoon? "&meetTimeAfternoon=Y" : "&meetTimeAfternoon=false";
    timeCode += evening? "&meetTimeEvening=Y" : "&meetTimeEvening=";

    var openOnlyCode = openOnly? "&openCoursesOnly=Y" : "&openCoursesOnly=";

    return prefix + keywordCode + termCode + programCode + coreCode + inquiryCode + dayCode + timeCode + openOnlyCode;
  }

  function requestSearch(url) {
    var xhttp = new XMLHttpRequest();
    xhttp.open("GET", url, false);
    xhttp.send(null);
    console.log(xhttp.responseText);
  }

</script>
